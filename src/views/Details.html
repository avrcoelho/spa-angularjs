<div class="container custom-width">
  <div class="container-title">
    <h2 class="mt-3 mb-3 text-secondary">{{ language.pageTitle.details }}</h2>
    <div class="btn-group dropleft mr-2 pull-right">
      <button
        type="button"
        class="btn btn-light"
        data-toggle="dropdown"
        aria-expanded="false"
        title="Opções"
      >
        <i class="fa fa-ellipsis-v"></i>
      </button>
      <div class="dropdown-menu">
        <a
          href="#"
          ng-click="updateMode = true"
          class="dropdown-item text-secondary"
        >
          <i class="fa fa-edit"></i> {{ language.btn.edit }}
        </a>
        <a
          href="#"
          ng-click="deleteCustomer()"
          class="dropdown-item text-danger"
        >
          <i class="fa fa-trash"></i> {{ language.btn.delete }}
        </a>
      </div>
    </div>
  </div>
  <form
    name="formUpdate"
    ng-submit="updateCustomer($event, formUpdate.$invalid)"
  >
    <div class="form-group">
      <label for="firstName">{{ language.dataCustomerTitle.firstName }}</label>
      <input
        type="text"
        class="form-control"
        name="firstName"
        id="firstName"
        ng-pattern="/^[a-zA-Z]([A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ`0-9]+)/"
        ng-model="firstName"
        ng-class="{ 'has-error-input' : formUpdate.firstName.$invalid && !formUpdate.firstName.$pristine}"
        ng-disabled="!updateMode"
        maxlength="30"
        required="true"
      />
      <small ng-show="formUpdate.firstName.$error.pattern" class="text-danger">
        {{ language.messageInvalidField.firstName }}
      </small>
      <small
        ng-show="formUpdate.firstName.$error.required && !formUpdate.firstName.$pristine"
        class="text-danger"
        >{{ language.messageEmptyField.firstName }}</small
      >
    </div>
    <div class="form-group">
      <label for="lastname">{{ language.dataCustomerTitle.lastName }}</label>
      <input
        type="text"
        class="form-control"
        name="lastname"
        id="lastname"
        ng-pattern="/^[a-zA-Z]([A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ`0-9]+)/"
        ng-model="lastname"
        ng-class="{ 'has-error-input' : formUpdate.lastname.$invalid && !formUpdate.lastname.$pristine}"
        ng-disabled="!updateMode"
        maxlength="100"
        required="true"
      />
      <small ng-show="formUpdate.lastname.$error.pattern" class="text-danger">
        {{ language.messageInvalidField.lastName }}
      </small>
      <small
        ng-show="formUpdate.lastname.$error.required && !formUpdate.lastname.$pristine"
        class="text-danger"
      >
        {{ language.messageEmptyField.lastName }}
      </small>
    </div>
    <div class="form-group form-group-custom">
      <label for="cpf">{{ language.dataCustomerTitle.cpf }}</label>
      <input
        type="text"
        class="form-control"
        id="cpf"
        name="cpf"
        ng-model="cpf"
        ui-mask="999.999.999-99"
        ng-class="{ 'has-error-input' : formUpdate.cpf.$invalid && !formUpdate.cpf.$pristine}"
        ng-disabled="!updateMode"
        required="true"
      />
      <small ng-show="formUpdate.cpf.$error.mask" class="text-danger">
        {{ language.messageInvalidField.cpf }}
      </small>
      <small
        ng-show="formUpdate.cpf.$error.required && !formUpdate.cpf.$pristine"
        class="text-danger"
      >
        {{ language.messageEmptyField.cpf }}
      </small>
    </div>
    <div class="form-group form-group-custom">
      <label for="birth">{{ language.dataCustomerTitle.birth }}</label>
      <input
        type="text"
        class="form-control"
        id="birth"
        name="birth"
        ng-model="birth"
        ui-mask="99/99/9999"
        ng-class="{ 'has-error-input' : formUpdate.birth.$invalid && !formUpdate.birth.$pristine}"
        ng-disabled="!updateMode"
        required="true"
      />
      <small ng-show="formUpdate.birth.$error.mask" class="text-danger">
        {{ language.messageInvalidField.birth }}
      </small>
      <small
        ng-show="formUpdate.birth.$error.required && !formUpdate.birth.$pristine"
        class="text-danger"
      >
        {{ language.messageEmptyField.birth }}
      </small>
    </div>
    <div class="form-group form-group-custom">
      <label for="birth">{{ language.dataCustomerTitle.age }}</label>
      <input
        type="text"
        class="form-control"
        id="age"
        name="age"
        ng-model="birth"
        disabled="disabled"
        required="true"
      />
    </div>
    <div class="form-group">
      <label for="profission">{{
        language.dataCustomerTitle.profission
      }}</label>
      <select
        class="form-control"
        id="profission"
        name="profission"
        ng-model="profission"
        ng-disabled="!updateMode"
        ng-options="profission.value as profission.text for profission in language.profissions"
      >
        <option value="">{{ language.profissionsSelect }}</option>
      </select>
    </div>
    <button
      type="submit"
      class="btn btn-info btn-lg btn-block"
      ng-disabled="formUpdate.$invalid"
      ng-show="updateMode"
    >
      <span ng-if="!isLoading">{{ language.btn.edit }}</span>
      <i
        class="fa fa-spinner fa-pulse"
        style="font-size:1.2em"
        ng-if="isLoading"
      ></i>
    </button>
  </form>
</div>
<div id="toast-info"></div>
<div class="load-delete" ng-if="isLoadingDelete">
  <i class="fa fa-spinner fa-pulse fa-3x text-white"></i>
</div>
